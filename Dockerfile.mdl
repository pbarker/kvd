# this file was generated by modelos
FROM python:3.10.4-slim
ENV PYTHONUNBUFFERED="1"
ENV PYTHONDONTWRITEBYTECODE="1"
ENV PIP_NO_CACHE_DIR="off"
ENV PIP_DISABLE_PIP_VERSION_CHECK="on"
ENV POETRY_NO_INTERACTION="1"
ENV PYTHONPATH="${PYTHONPATH}:/app:/app/"
RUN apt update && apt install -y watchdog git curl
RUN pip install poetry==1.2.0 && poetry --version
WORKDIR /app/
COPY ./poetry.lock ./pyproject.toml /app/
RUN poetry install --no-ansi --no-root --only main
EXPOSE 8000
COPY [".pylintrc", "Dockerfile.mdl", "Makefile", "poetry.lock", "pyproject.toml", ".gitignore", "LICENSE", "README.md", "/app/"]
COPY ["kvd/__init__.py", "kvd/kvstore_client.py", "kvd/kvstore_server.py", "kvd/store.py", "/app/kvd/"]
COPY ["tests/store_tests.py", "/app/tests/"]
COPY .git /app/.git/
CMD ["poetry", "run", "python", "/app/kvd/kvstore_server.py"]